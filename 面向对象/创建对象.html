<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  <script>
    // 1.工厂模式
    // function createPerson (name) {
    //   let o = {}
    //   o.name = name;
    //   o.getName = function () {
    //     console.log(this.name)
    //   }
    //   return o
    // }
    // let per = createPerson('alex')
    // let per2 = createPerson('yiyuan')
    // console.log(per.getName())
    // per.name = 'zhao'
    // console.log(per)
    // console.log(per2.getName())


   /*  // 构造函数
    function Person (name) {
      this.name = name
      this.sayName = function () {
        console.log('user =>', name)
      }
    }
    // let obj = {}
    // Person.call(obj, 'koko')
    // console.log('user =>', obj)
    // obj.sayName()
    let p = new Person('coco')
    console.log('user =>', p.name) */
    // 构造函数方法缺点：每个方法都要在创建实例的时候创建一遍

    // 原型模式缺点，引用类型值会共享
    // function Person () {}
    // Person.prototype.name = 'alex'
    // Person.prototype.colors = ['red', 'green']
    // Person.prototype.sayName = function () {
    //   console.log('user =>', this.name)
    // }
    // let p = new Person()
    // let p2 = new Person()
    // p.sayName()
    // // p.name = 'koko'
    // p.colors.push('orange')
    // console.log('user =>', p)
    // console.log('user =>', p2)
    // console.log('user =>', 'name' in p)
    // console.log('user =>', p.hasOwnProperty('name'))
    // console.log('user =>', Object.getPrototypeOf(p) === Person.prototype)
    // console.log('user =>', Person.prototype.isPrototypeOf(p))

    
    // 组合使用构造函数和原型模式
    // function Person(name, age) {
    //   this.name = name
    //   this.age = age
    //   this.colors = ['red', 'green']
    //   this.sayName = function () {
    //     console.log('user =>', this.name)
    //   }
    // }
    // Person.prototype.sayAge = function () {
    //   console.log('user =>', this.name + this.age)
    // }
    // let p1 = new Person('yiyuan', 9)
    // let p2 = new Person('alex', 99)
    // p1.colors.push('orange')
    // console.log('user =>', p1)
    // console.log('user =>', p2)
    // p1.sayAge()
    // p2.sayAge()

    // 动态原型模式
    // function Person (name, age) {
    //   this.name = name
    //   this.age = age
    //   if (typeof this.sayName != 'function') {
    //     Person.prototype.sayName = function () {
    //       console.log('user =>', this.name)
    //     }
    //   }
    // }
    // let p = new Person('yiyuan', 12)
    // // console.log('user =>', p)
    // p.sayName()

    let arr = ['red', 'green', 'orange']
    let values = []
    /* for (var i = 0, len = arr.length; i < len; i++) {
      values.push(arr[i]);
    } */

    /* values.push.apply(values, arr); */
    console.log('user =>', values)
  </script>
</body>
</html>